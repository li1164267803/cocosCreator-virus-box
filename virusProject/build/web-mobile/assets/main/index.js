window.__require=function t(e,o,n){function i(s,r){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({0:[function(t,e,o){"use strict";cc._RF.push(e,"15dfd2MFmJJ2rmd0V7X2ipC","0"),cc.Class({extends:cc.Component,properties:{m_labHp:cc.Label,m_Back:[cc.Node],m_Body:cc.Node},ctor:function(){this.m_bHurt=!1,this.m_bDie=!1,this.m_SpeedY=0,this.m_SpeedX=0,this.m_bSleep=!1},onLoad:function(){this.m_Back[0].runAction(cc.rotateBy(5,360).repeatForever()),this.m_Back[1].runAction(cc.rotateBy(5,-360).repeatForever()),this.setHp(99),this.setColor(new cc.Color(255,130,113)),this.init()},onCollisionEnter:function(t,e){100==t.tag&&this.hit()},init:function(){this.m_Body.active=!0,this.node.setScale(cc.v2(1,1)),this.m_Body.setScale(cc.v2(1,1)),this.m_bDie=!1,this.randomSpeed(),this.setMoveStart(),this.randomColor()},hit:function(){var t=this;if(this.m_HP-=1,this.setHp(this.m_HP),window.gVirusMake.hit(1),this.runRandomColorAction(.2,this.node),this.m_HP<=0){this.m_bDie=!0;var e=cc.sequence(cc.scaleTo(.05,0,0),cc.callFunc(function(){window.gVirusMake.createDieAnim(t.node),window.gVirusMake.onVirusKilled(t.node)}));this.m_Body.runAction(e)}else this.hurt()},hurt:function(){if(!this.m_bHurt){this.m_bHurt=!0;var t=cc.sequence(cc.scaleBy(.08,1.1,1.1),cc.scaleBy(.1,.9,.9),cc.callFunc(function(){this.m_bHurt=!1}.bind(this)));this.node.runAction(t)}},setColor:function(t){this.node.color=t,setVirusColor(this.node,t)},setHp:function(t){this.m_HP=t,this.m_labHp.string=t},runRandomColorAction:function(t,e,o){null==o&&(o=this.getRandomColor());for(var n=0;n<e.children.length;n++){if(null!=e.children[n].getComponent("color")){var i=cc.tintTo(t,o.r,o.g,o.b);e.children[n].runAction(i)}this.runRandomColorAction(t,e.children[n],o)}},randomColor:function(){this.setColor(this.getRandomColor())},getRandomColor:function(){var t=new Array(3);t[0]=random(127,255),t[1]=127,t[2]=255;for(var e=new Array,o=0;o<2;o++){var n=random(0,t.length);e.push(t[n]),t.splice(n,1)}return e.push(t[0]),new cc.Color(e[0],e[1],e[2])},randomSpeed:function(){this.m_SpeedY=random(100,400),this.m_SpeedX=random(100,400),random(0,100)>50&&(this.m_SpeedX*=-1)},setMoveStart:function(){this.node.y=1780,this.node.x=random(160,740)},sleep:function(t,e){this.m_bSleep!=t&&(this.m_bSleep=t,t?(this.m_SpeedX/=e,this.m_SpeedY/=e):(this.m_SpeedX*=e,this.m_SpeedY*=e))},update:function(t){this.m_bDie||(this.node.y<-150&&(this.setMoveStart(),this.randomSpeed()),this.node.y-=this.m_SpeedY*t,(this.m_SpeedX>0&&this.node.x>840||this.m_SpeedX<0&&this.node.x<60)&&(this.m_SpeedX*=-1),this.node.x+=this.m_SpeedX*t)}}),cc._RF.pop()},{}],AirAutoPlay:[function(t,e,o){"use strict";cc._RF.push(e,"72d16qGLLJNGoSVDwBmw3k3","AirAutoPlay"),cc.Class({extends:cc.Component,properties:{m_light:[cc.Node],m_TailLight:cc.Node,m_Gun:cc.Node},onLoad:function(){this.m_light.forEach(function(t,e){var o=cc.sequence(cc.delayTime(.2*e),cc.scaleTo(.4,1,1),cc.callFunc(function(){return t.setScale(cc.v2(0,0))}),cc.delayTime(.5));t.runAction(o.repeatForever())}),this.m_Gun=this.m_Gun.getComponent("Gun")},play:function(){this.node.setPosition(cc.v2(0,-966)),this.node.setScale(cc.v2(.8,.8)),this.m_TailLight.setScale(cc.v2(1,1));var t=cc.sequence(cc.delayTime(.5),cc.moveTo(.4,cc.v2(0,-415)),cc.scaleTo(.4,1,1));this.node.runAction(t);var e=cc.sequence(cc.delayTime(1),cc.scaleTo(.5,.6,.6));this.m_TailLight.runAction(e)},moveOut:function(){var t=cc.scaleTo(.3,.6,.6);this.node.runAction(t.easing(cc.easeBackOut())),this.m_TailLight.runAction(cc.scaleTo(.5,1,1))},moveIn:function(){var t=cc.scaleTo(.3,1,1);this.node.runAction(t.easing(cc.easeBackOut())),this.m_TailLight.runAction(cc.scaleTo(.5,.6,.6))},BeginFire:function(){this.m_Gun.BeginFire()},EndFire:function(){this.m_Gun.EndFire()}}),cc._RF.pop()},{}],AirPlane:[function(t,e,o){"use strict";cc._RF.push(e,"a7eec2xdqVLYpZvZ8AI9iDz","AirPlane"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Bg:[function(t,e,o){"use strict";cc._RF.push(e,"5d738n4rllE1oghS0nqQRKt","Bg"),cc.Class({extends:cc.Component,properties:{},play:function(){var t=cc.sequence(cc.delayTime(1),cc.scaleTo(.3,1.2,1.2));this.node.runAction(t)},moveOut:function(){var t=cc.scaleTo(.3,1,1);this.node.runAction(t)},moveIn:function(){var t=cc.scaleTo(.3,1.2,1.2);this.node.runAction(t)},start:function(){}}),cc._RF.pop()},{}],Bottom:[function(t,e,o){"use strict";cc._RF.push(e,"baf6d7huEpFgIhBbyOLocHC","Bottom"),cc.Class({extends:cc.Component,properties:{},moveOut:function(){var t=cc.moveTo(.3,cc.v2(0,-880));this.node.runAction(t.easing(cc.easeBackOut()))},moveIn:function(){var t=cc.moveTo(.3,cc.v2(0,-734));this.node.runAction(t.easing(cc.easeBackOut()))},start:function(){}}),cc._RF.pop()},{}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"080f50crKJFu6mUQCOFgQ2G","Bullet"),cc.Class({extends:cc.Component,properties:{},ctor:function(){this.m_updateMove=!1},init:function(){this.m_updateMove=!1},onCollisionEnter:function(t,e){0==t.tag&&gGameCtl.onBullteKilled(this.node)},setSecondPos:function(t){var e=this,o=cc.sequence(cc.moveTo(.1,t),cc.callFunc(function(){e.m_updateMove=!0}));this.node.runAction(o)},update:function(t){if(this.m_updateMove){var e=this.node.y;e+=1e3*t,this.node.y=e,e>920&&window.gGameCtl.onBullteKilled(this.node)}}}),cc._RF.pop()},{}],ClickGet:[function(t,e,o){"use strict";cc._RF.push(e,"afd6d4fkdROfa4Fq/PGcKf8","ClickGet"),cc.Class({extends:cc.Component,properties:{m_labGold:cc.Label,m_progress:cc.ProgressBar},moveOut:function(){var t=cc.moveTo(.3,cc.v2(540,0));this.node.runAction(t.easing(cc.easeBackOut()))},moveIn:function(){var t=cc.moveTo(.3,cc.v2(367,0));this.node.runAction(t.easing(cc.easeBackOut()))},onClickGet:function(){window.gGameCtl.createGoldAnim(this.node.getPosition(),cc.v2(-375,710),200,15,gDataCtl.getTaskGold(),function(t){window.gDataCtl.AddGold(t),window.gGameCtl.m_Top.updateData()}),window.gDataCtl.clearTaskGold(),this.updateData()},start:function(){},updateData:function(){this.m_labGold.string=goldCrarryBit(window.gDataCtl.getTaskGold())},update:function(t){var e=1/window.gDataCtl.getColdAddTime();if(e*=t,this.m_progress.progress+=e,this.m_progress.progress>=1){this.m_progress.progress=0;var o=window.gDataCtl.getAwardGold();window.gDataCtl.addTaskGold(o),window.gDataCtl.save(),this.updateData()}}}),cc._RF.pop()},{}],FullScreen:[function(t,e,o){"use strict";cc._RF.push(e,"6b071b+SGhMooIUd5li7+7y","FullScreen"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fullScreen=function(){if(!cc.sys.isNative){var t=document.documentElement,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;e&&e.call(t)}},e.prototype.exitFullScreen=function(){if(!cc.sys.isNative){var t=document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen;t&&t.call(document)}},e=__decorate([i],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],GameControl:[function(t,e,o){"use strict";cc._RF.push(e,"f1e7eBKPpVHxLpGtEaib2P7","GameControl"),cc.Class({extends:cc.Component,properties:{logo:cc.Node,levelDesign:cc.Node,m_Top:cc.Node,m_setting:cc.Node,m_clackGet:cc.Node,m_bottom:cc.Node,m_tip:cc.Node,m_Bg:cc.Node,m_airPlane:cc.Node,m_goldPrafab:cc.Prefab,m_TouchControl:cc.Node,m_BulletPrefab:cc.Prefab,m_MonsterHP:cc.Node,m_VirusMake:cc.Node},ctor:function(){console.log("\u7236\u7684ctor"),this.m_ClassArray=[],this.goldPool=new cc.NodePool,this.bulletPool=new cc.NodePool},onLoad:function(){var t=this;cc.director.getCollisionManager().enabled=!0,window.gGameCtl=this,console.log("\u7236\u7684onLoad"),this.logo=this.logo.getComponent("Logo"),this.m_ClassArray.push(this.logo),this.levelDesign=this.levelDesign.getComponent("leveDesign"),this.levelDesign.reset(),this.m_ClassArray.push(this.levelDesign),this.m_Top=this.m_Top.getComponent("Top"),this.m_ClassArray.push(this.m_Top),this.m_setting=this.m_setting.getComponent("Setting"),this.m_ClassArray.push(this.m_setting),this.m_clackGet=this.m_clackGet.getComponent("ClickGet"),this.m_ClassArray.push(this.m_clackGet),this.m_bottom=this.m_bottom.getComponent("Bottom"),this.m_ClassArray.push(this.m_bottom),this.m_tip=this.m_tip.getComponent("Tip"),this.m_ClassArray.push(this.m_tip),this.m_Bg=this.m_Bg.getComponent("Bg"),this.m_ClassArray.push(this.m_Bg),this.m_airPlane=this.m_airPlane.getComponent("AirAutoPlay"),this.m_ClassArray.push(this.m_airPlane),window.gAirPlane=this.m_airPlane,this.m_MonsterHP=this.m_MonsterHP.getComponent("MonsterHP"),this.m_ClassArray.push(this.m_MonsterHP),this.m_VirusMake=this.m_VirusMake.getComponent("VirusMask"),this.m_ClassArray.push(this.m_VirusMake),this.m_ClassArray.forEach(function(t){return t.play&&t.play()}),this.scheduleOnce(function(){return t.m_TouchControl.active=!0},1.5)},createGoldAnim:function(t,e,o,n,i,c){var s=this,r=[];this.getPoint(o,t.x,t.y,n).forEach(function(e){var o=s.createGold(s.node),n=cc.v2(e.x+random(0,50),e.y+random(0,50));o.setPosition(t),r.push({gold:o,randPos:n})}),r.sort(function(t,o){return distance(t.randPos,e)-distance(o.randPos,e)});var a=!1,l=this.m_Top.getGoldNode();r.forEach(function(t,o){var n=cc.sequence(cc.moveTo(.3,t.randPos),cc.delayTime(.02*o),cc.moveTo(.3,e),cc.callFunc(function(t){if(cc.sys.localStorage.q=123,!a){a=!0;var e=cc.sequence(cc.scaleTo(.1,.8,.8),cc.scaleTo(.1,.5,.5),cc.callFunc(function(){return a=!1}));l.runAction(e)}o==r.length-1&&null!=c&&c(i),s.onGoldKilled(t)}));t.gold.parent=s.node,t.gold.runAction(n)})},createGold:function(t){var e=null;return(e=this.goldPool.size()>0?this.goldPool.get():cc.instantiate(this.m_goldPrafab)).parent=t,e},onGoldKilled:function(t){this.goldPool.put(t)},createBullte:function(t){if(t<=1){var e=null;(e=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.m_BulletPrefab)).parent=this.node;var o=this.m_airPlane.node.getPosition();o.y+=116,e.setPosition(o);var n=e.getComponent("Bullet");n.init(),n.setSecondPos(cc.v2(o.x,o.y+80))}else for(var i=1,c=1,s=0;s<t;s++){var r=0;t%2!=0?0==s?r=0:s%2?(r=-30*i,r+=0,i++):(r=30*c,r-=0,c++):s%2?(r=-30*i,r+=15,i++):(r=30*c,r-=15,c++);var a=null;(a=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.m_BulletPrefab)).parent=this.node;var l=this.m_airPlane.node.getPosition();l.y+=116,a.setPosition(l);var u=a.getComponent("Bullet");u.init(),u.setSecondPos(cc.v2(l.x+r,l.y+80))}},onBullteKilled:function(t){this.bulletPool.put(t)},getPoint:function(t,e,o,n){for(var i=[],c=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var r=e+t*Math.sin(c*s),a=o+t*Math.cos(c*s);i.unshift({x:r,y:a})}return i},Action:function(t){t==ACTION_RESET?this.ActionReset():t==ACTION_PLAY?this.ActionPlay():t==ACTION_MOVE_OUT?this.ActionMoveOut():t==ACTION_MOVE_IN&&this.ActionMoveIn()},ActionReset:function(){this.m_ClassArray.forEach(function(t){return t.reset&&t.reset()})},ActionPlay:function(){this.m_ClassArray.forEach(function(t){return t.play&&t.play()})},ActionMoveOut:function(){this.m_ClassArray.forEach(function(t){return t.moveOut&&t.moveOut()})},ActionMoveIn:function(){this.m_ClassArray.forEach(function(t){return t.moveIn&&t.moveIn()})},moveAirPlane:function(t){var e=this.m_airPlane.node.getPosition();this.m_airPlane.node.setPosition(cc.v2(e.x+t.x,e.y+t.y))},test:function(t,e){"\u91cd\u7f6e"==e&&window.gDataCtl.del(),this.m_ClassArray.forEach(function(t){"\u91cd\u7f6e"==e&&t.reset&&t.reset(),"\u64ad\u653e"==e&&t.play&&t.play(),"\u79fb\u51fa"==e&&t.moveOut&&t.moveOut(),"\u79fb\u5165"==e&&t.moveIn&&t.moveIn()})},start:function(){console.log("\u7236\u7684start")}}),cc._RF.pop()},{}],Gun:[function(t,e,o){"use strict";cc._RF.push(e,"29eccOhGdJOJaGreQH0Wb0v","Gun"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.scaleTo(.1,.5,.5),e=cc.scaleTo(.1,1,1);this.node.runAction(cc.sequence(t,e).repeatForever()),this.node.active=!1},createBulltCallBack:function(){console.log("\u521b\u5efa\u5b50\u5f39"),window.gGameCtl.createBullte(4)},BeginFire:function(){this.createBulltCallBack(),this.schedule(this.createBulltCallBack,.2),this.node.active=!0},EndFire:function(){this.node.active=!1,this.unschedule(this.createBulltCallBack)}}),cc._RF.pop()},{}],LogoVirus:[function(t,e,o){"use strict";cc._RF.push(e,"baafbsCRGBBB7MJgN9odq6S","LogoVirus"),cc.Class({extends:cc.Component,properties:{circl:cc.Node,virus:cc.Node,tail:cc.Node},init:function(t,e,o){this.v2=cc.v2(t,e),this.width=o},onLoad:function(){},Begin:function(){this.tail.runAction(cc.fadeOut(.7));var t=cc.fadeOut(.2),e=cc.fadeIn(.4),o=(cc.delayTime(.5),cc.sequence(t,e));this.circl.runAction(o.repeatForever()),this.virusAction()},virusAction:function(){var t=this,e=random(0,this.width),o=random(0,this.width),n=cc.v2(this.v2.x+e,this.v2.y+o),i=cc.sequence(cc.moveTo(.5,n),cc.callFunc(function(){t.virusAction()}));this.node.runAction(i)},reset:function(){this.circl.opacity=255,this.tail.opacity=255,this.circl.stopAllActions(),this.virus.stopAllActions(),this.tail.stopAllActions()},start:function(){}}),cc._RF.pop()},{}],Logo:[function(t,e,o){"use strict";cc._RF.push(e,"986e0AglIZOHaQt/1VYE2OL","Logo"),cc.Class({extends:cc.Component,properties:{Anim:[cc.Node]},callFun0:function(){var t=cc.scaleTo(1,1),e=cc.callFunc(this.callFun1.bind(this)),o=cc.sequence(t,e);this.Anim[1].runAction(o);var n=cc.fadeOut(.2),i=cc.fadeIn(.4),c=cc.sequence(n,i);this.Anim[0].runAction(c.repeatForever())},callFun1:function(){console.log("\u79fb\u52a8\u548c\u653e\u5927\u75c5\u6bd2");var t=cc.moveTo(.3,cc.v2(431,192)),e=cc.moveTo(.3,cc.v2(455,-27)),o=cc.scaleTo(.3,1,1),n=cc.scaleTo(.3,1,1),i=cc.spawn(t,o),c=cc.spawn(e,n),s=cc.sequence(c,cc.callFunc(this.callFun2.bind(this)));this.Anim[2].runAction(i),this.Anim[3].runAction(s);var r=cc.fadeOut(.4),a=cc.fadeIn(.4),l=cc.sequence(r,a);this.Anim[1].runAction(l.repeatForever())},callFun2:function(){console.log("\u9690\u85cf\u62d6\u5c3e");var t=this.Anim[2].getComponent("LogoVirus");t.init(374,135,100),t.Begin(),(t=this.Anim[3].getComponent("LogoVirus")).init(410,-62,80),t.Begin()},onLoad:function(){},moveOut:function(){this.reset(),this.node.setPosition(cc.v2(-30,452)),this.node.runAction(cc.moveTo(.3,-30,942).easing(cc.easeBackIn()))},moveIn:function(){this.reset(),this.node.setPosition(cc.v2(-30,942)),this.node.runAction(cc.moveTo(.3,-30,452).easing(cc.easeBackOut()))},reset:function(){this.Anim[0].opacity=255,this.Anim[1].opacity=255,this.Anim[1].setScale(cc.v2(0,1)),this.Anim[2].setPosition(cc.v2(284,54)),this.Anim[2].setScale(cc.v2(.2,.2)),this.Anim[3].setPosition(cc.v2(292,32)),this.Anim[3].setScale(cc.v2(.2,.2)),this.Anim.forEach(function(t){t.stopAllActions()});var t=this.Anim[2].getComponent("LogoVirus");t.reset(),(t=this.Anim[3].getComponent("LogoVirus")).reset()},play:function(){var t=cc.fadeOut(.2),e=cc.fadeIn(.2),o=cc.sequence(t,e),n=cc.sequence(o,o,cc.callFunc(this.callFun0.bind(this)));this.Anim[0].runAction(n)},start:function(){}}),cc._RF.pop()},{}],MonsterHP:[function(t,e,o){"use strict";cc._RF.push(e,"f2e55NcQa1EOY3q+/q1C6sm","MonsterHP"),cc.Class({extends:cc.Component,properties:{m_Gold:cc.Label,m_tipVirus:cc.Label,m_HpProgress:cc.ProgressBar},onLoad:function(){window.gVirusHpView=this,this.m_HpProgress.progress=1},reset:function(){this.m_Gold.string=0,this.m_tipVirus.string="100%",this.m_HpProgress.progress=1},moveOut:function(){console.log("\u663e\u793a\u8fdb\u5ea6\u6761");var t=cc.sequence(cc.delayTime(.5),cc.fadeIn(.5));this.node.runAction(t)},moveIn:function(){console.log("\u9690\u85cf\u8fdb\u5ea6\u6761"),this.node.runAction(cc.fadeOut(.5))},changeProgress:function(t){this.m_HpProgress.progress=t,this.m_Gold.string=0,this.m_tipVirus.string=100*t.toFixed(2)+"%"}}),cc._RF.pop()},{}],Setting:[function(t,e,o){"use strict";cc._RF.push(e,"63e4dZD0LBCsZ+91ec5mzyj","Setting"),cc.Class({extends:cc.Component,properties:{},moveOut:function(){var t=cc.moveTo(.3,cc.v2(-490,388));this.node.runAction(t.easing(cc.easeBackOut()))},moveIn:function(){var t=cc.moveTo(.3,cc.v2(-417,388));this.node.runAction(t.easing(cc.easeBackOut()))},start:function(){}}),cc._RF.pop()},{}],ShaderHelper:[function(t,e,o){"use strict";cc._RF.push(e,"49d0auleM9GkaUgf+inMFoR","ShaderHelper"),Object.defineProperty(o,"__esModule",{value:!0}),o.ShaderProperty=void 0;var n=cc._decorator,i=n.ccclass,c=n.property,s=n.executeInEditMode,r=function(){function t(t,e){this.key="",this.value=0,this.key=t,this.value=e}return __decorate([c({readonly:!0})],t.prototype,"key",void 0),__decorate([c(cc.Float)],t.prototype,"value",void 0),t=__decorate([i("ShaderProperty")],t)}();o.ShaderProperty=r;var a=cc.Enum({}),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._effectName="",e._program=0,e._maxValues=[],e._props=[],e.material=null,e}var o;return __extends(e,t),o=e,Object.defineProperty(e.prototype,"program",{get:function(){return this._program},set:function(t){this._program!==t&&(this._program=t,console.log(a[this._program]),this.applyEffect())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=a[this._program],e=this._maxValues.find(function(e){return e.key===t});return e||(e=new r(t,65535)),e.value},set:function(t){var e=a[this._program],o=this._maxValues.find(function(t){return t.key===e});o||(o=new r(e,65535),this._maxValues.push(o)),o.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t,this.applyEffect()},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.applyEffect()},e.prototype.applyEffect=function(){var t=this.node.getComponent(cc.Sprite);if(t){var e=a[this.program],n=o.effectAssets.find(function(t){return t._name===e});if(n){var i=new cc.Material;i.effectAsset=n,i.name=n.name,!!n.shaders.find(function(t){return t.defines.find(function(t){return"USE_TEXTURE"===t.name})})&&i.define("USE_TEXTURE",!0),t.setMaterial(0,i),this.material=t.getMaterial(0),this.setProperty(n),this.node.emit("effect-changed",this,this.material)}}},e.prototype.setProperty=function(t){var e=this;this._props.length&&this._props.forEach(function(t){return t.key&&e.material.setProperty(t.key,t.value||0)}),cc.Class.Attr.setClassAttr(o,"props","visible",!!this._props.length)},e.prototype.next=function(){this.program=(this.program+1)%o.effectAssets.length},e.prototype.prev=function(){0!==this.program?this.program=(this.program-1)%o.effectAssets.length:this.program=o.effectAssets.length-1},e.effectAssets=null,__decorate([c],e.prototype,"_program",void 0),__decorate([c({type:a})],e.prototype,"program",null),__decorate([c({type:[r]})],e.prototype,"_maxValues",void 0),__decorate([c({type:cc.Float,range:[0,65535,.1]})],e.prototype,"max",null),__decorate([c({type:[r]})],e.prototype,"_props",void 0),__decorate([c({type:[r]})],e.prototype,"props",null),e=o=__decorate([i,s],e)}(cc.Component);o.default=l,cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){cc.loader.loadResDir("effect",cc.EffectAsset,function(t,e){l.effectAssets=e;var o={},n=l.effectAssets.map(function(t,e){return o[t._name]=-1,{name:t._name,value:e}});a=cc.Enum(o),cc.Class.Attr.setClassAttr(l,"program","enumList",n)})}),cc._RF.pop()},{}],ShaderMouse:[function(t,e,o){"use strict";cc._RF.push(e,"0ed2cS4TFpGyo6y5mPlpF50","ShaderMouse"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=n.executeInEditMode,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on("effect-changed",function(e,o){if(o.effect.passes[0]._properties.iResolution){var n=t.node.getBoundingBox().size;o.effect.setProperty("iResolution",cc.v2(n.width,n.height)),t._material=o}else t._material=null},this)},e.prototype.onDestroy=function(){this.node.targetOff(this)},e.prototype._onTouchMove=function(t){this._material&&this._material.effect.setProperty("mouse",t.getLocation())},e=__decorate([i,c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ShaderNameLabel:[function(t,e,o){"use strict";cc._RF.push(e,"4cd0ffQe75Ddod5dqnEgLHx","ShaderNameLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ShaderHelper"),i=cc._decorator,c=i.ccclass,s=i.property,r=i.executeInEditMode,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderHelper=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.shaderHelper&&setTimeout(function(){var e=n.default.effectAssets[t.shaderHelper.program];t.getComponent(cc.Label).string=e.name},1e3)},__decorate([s(n.default)],e.prototype,"shaderHelper",void 0),e=__decorate([c,r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./ShaderHelper":"ShaderHelper"}],ShaderTime:[function(t,e,o){"use strict";cc._RF.push(e,"5866cn/yXtO664c25gnwSdk","ShaderTime"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ShaderHelper"),i=cc._decorator,c=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._shaderHelper=null,e._max=65535,e.step=.01,e._start=0,e}return __extends(e,t),e.prototype.start=function(){this._shaderHelper=this.node.getComponent(n.default)},e.prototype.update=function(t){if(this.node.active){this._shaderHelper=this.node.getComponent(n.default);var e=this._shaderHelper.material;e&&e.effect.passes[0]._properties.time&&this._setShaderTime()}},e.prototype._setShaderTime=function(){var t=this._start;t>this._shaderHelper.max&&(t=0),t+=this.step,this._shaderHelper.material.effect.setProperty("time",t),this._start=t},__decorate([s],e.prototype,"_max",void 0),__decorate([s],e.prototype,"step",void 0),e=__decorate([c],e)}(cc.Component);o.default=r,cc._RF.pop()},{"./ShaderHelper":"ShaderHelper"}],SpriteMate:[function(t,e,o){"use strict";cc._RF.push(e,"11863md5kZD/owNByitxi42","SpriteMate"),cc.Class({extends:cc.Component,editor:{menu:"\u3010\u594e\u7279\u5c14\u3011\u901a\u7528\u7ec4\u4ef6/SpriteIndex(\u56fe\u7247\u5207\u6362)"},properties:{spriteFrames:[cc.SpriteFrame],_index:0,index:{type:cc.Integer,set:function(t){t<0||(this._index=t%this.spriteFrames.length,this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[this._index])},get:function(){return this._index}}},next:function(){this.index++}}),cc._RF.pop()},{}],TestBtn:[function(t,e,o){"use strict";cc._RF.push(e,"74409Wpr3REPbp+0qqfHt1C","TestBtn"),cc.Class({extends:cc.Component,properties:{colorSpritNode:cc.Node},changeColor:function(){console.log("\u70b9\u51fb\u4fee\u6539\u989c\u8272"),this.colorSpritNode.color=cc.color(255,153,255,255)},start:function(){}}),cc._RF.pop()},{}],Tip:[function(t,e,o){"use strict";cc._RF.push(e,"17f0b3MqWRFFpclM/tIL7lz","Tip"),cc.Class({extends:cc.Component,properties:{},reset:function(){console.log("\u91cd\u7f6e"),this.node.opacity=255},play:function(){console.log("play");var t=cc.sequence(cc.rotateTo(.3,-15),cc.rotateTo(.3,15),cc.rotateTo(.3,-15),cc.rotateTo(.3,15),cc.rotateTo(.3,0),cc.delayTime(2));this.node.runAction(t.repeatForever())},moveOut:function(){this.node.runAction(cc.fadeOut(.3).easing(cc.easeBackOut()))},moveIn:function(){this.node.runAction(cc.fadeIn(.3).easing(cc.easeBackOut()))}}),cc._RF.pop()},{}],Top:[function(t,e,o){"use strict";cc._RF.push(e,"2ae2fZcZWBB3Lm506cAhdki","Top"),cc.Class({extends:cc.Component,properties:{m_GoldNode:cc.Node,m_labGold:cc.Label},onLoad:function(){this.updateData()},moveOut:function(){this.node.setPosition(cc.v2(0,736)),this.node.runAction(cc.moveTo(.2,-30,942).easing(cc.easeBackIn()))},moveIn:function(){this.node.setPosition(cc.v2(0,942)),this.node.runAction(cc.moveTo(.2,0,736).easing(cc.easeBackOut()))},getGoldNode:function(){return this.m_GoldNode},updateData:function(){this.m_labGold.string=goldCrarryBit(window.gDataCtl.getGold())}}),cc._RF.pop()},{}],TouchControl:[function(t,e,o){"use strict";cc._RF.push(e,"9d0e6UfwVtL8aoT6t8md4kS","TouchControl"),cc.Class({extends:cc.Component,properties:{m_BG:cc.Node},ctor:function(){this.m_isCanTouchMove=!1,this.m_isPlaying=!1},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchEnd,this)},TouchStart:function(){var t=this;this.m_BG.runAction(cc.fadeOut(.5)),console.log("TouchStart"),window.gAirPlane.BeginFire(),this.scheduleOnce(function(){t.m_isCanTouchMove=!0},.5),window.gVirusMake.sleepVirus(!1,10),this.m_isPlaying||(this.m_isPlaying=!0,window.gGameCtl.Action(ACTION_MOVE_OUT))},TouchMove:function(t){if(this.m_isCanTouchMove){var e=t.getDelta();window.gGameCtl.moveAirPlane(e),console.log("TouchMove")}},TouchEnd:function(){window.gAirPlane.EndFire(),this.m_BG.runAction(cc.fadeIn(.5)),window.gVirusMake.sleepVirus(!0,10),console.log("TouchEnd")}}),cc._RF.pop()},{}],Virus0:[function(t,e,o){"use strict";cc._RF.push(e,"4c99dHTM95Jd7s5QMosCPaL","Virus0"),cc.Class({extends:cc.Component,properties:{m_labHp:cc.Label,m_Back:[cc.Node]},onLoad:function(){this.m_Back[0].runAction(cc.rotateBy(5,360).repeatForever()),this.m_Back[1].runAction(cc.rotateBy(5,-360).repeatForever()),this.setHp(99),this.setColor(new cc.Color(255,130,113))},onCollisionEnter:function(t,e){100==t.tag&&this.hit()},hit:function(){this.m_HP-=1,this.setHp(this.m_HP),this.m_HP<=0&&(this.node.active=!1)},setColor:function(t){setVirusColor(this.node,t)},setHp:function(t){this.m_HP=t,this.m_labHp.string=t},update:function(t){var e=100*t;this.node.y-=e}}),cc._RF.pop()},{}],VirusMask:[function(t,e,o){"use strict";cc._RF.push(e,"05b6b+BHYZG2p2ovKmZJ4Yv","VirusMask"),cc.Class({extends:cc.Component,properties:{m_VirusPrefab:[cc.Prefab],m_animDie:cc.Prefab,m_VirusParentl:cc.Node},ctor:function(){},onLoad:function(){window.gVirusMake=this,this.dieAnimPool=new cc.NodePool,this.virusPool=[];for(var t=0;t<this.m_VirusPrefab.length;t++)this.virusPool[t]=new cc.NodePool;this.m_BriefHp=0},begin:function(){this.m_Brief=0;var t=window.gDataCtl.GetCurLevelDesign();this.m_AllHp=0,console.log(window.gLevelDesign[t],window.gLevelDesign,t,"level");for(var e=0;e<window.gLevelDesign[t].hp.length;e++)this.m_AllHp+=window.gLevelDesign[t].hp[e];this.m_CurHp=this.m_AllHp,window.gVirusHpView.changeProgress(1),this.nextBrief()},nextBrief:function(){var t=window.gDataCtl.GetCurLevelDesign();if(!(this.m_Brief>=window.gLevelDesign[t].hp.length)){var e=window.gLevelDesign[t].hp[this.m_Brief];this.m_BriefHp+=e;for(var o=window.gLevelDesign[t].hpMin,n=window.gLevelDesign[t].hpMax,i=0;e>0;i++){var c=random(0,window.gLevelDesign[t].virus.length),s=this.createVirus(c).getComponent(""+c),r=random(o,n);s.setHp(r),e-=r}this.m_Brief++}},moveOut:function(){this.scheduleOnce(function(){this.begin()}.bind(this),1.5)},createVirus:function(t){var e=null;return(e=this.virusPool[t].size()>0?this.virusPool[t].get():cc.instantiate(this.m_VirusPrefab[t])).parent=this.m_VirusParentl,e.getComponent(""+t).init(),e.id=t,e},onVirusKilled:function(t){var e=t.id;this.virusPool[e].put(t)},createDieAnim:function(t){var e,o=t.getPosition(),n=t.getScale(),i=t.color;(e=this.dieAnimPool.size()>0?this.dieAnimPool.get():cc.instantiate(this.m_animDie)).parent=this.m_VirusParentl,e.x=o.x,e.y=o.y,e.setScale(cc.v2(2*n,2*n)),e.color=i;var c=e.getComponent(cc.Animation);c.playOver=function(){this.onDieAnimKilled(e)}.bind(this),c.play("die")},onDieAnimKilled:function(t){this.dieAnimPool.put(t)},sleepVirus:function(t,e){for(var o=this.m_VirusParentl.children,n=0;n<o.length;n++){var i=o[n],c=i.getComponent(""+i.id);c&&c.sleep(t,e)}},hit:function(t){this.m_BriefHp-=t,this.m_CurHp-=t,this.m_BriefHp<50&&this.nextBrief(),window.gVirusHpView.changeProgress(this.m_CurHp/this.m_AllHp)}}),cc._RF.pop()},{}],color:[function(t,e,o){"use strict";cc._RF.push(e,"231697imm1At5A2CgAdLWPe","color"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],data:[function(t,e,o){"use strict";cc._RF.push(e,"5ebaaxH1YdEQbGqALFZQcPv","data");var n=cc.Class({ctor:function(){this.gData={},this.gLevelDesign=[{hp:0},{hp:[200,200,200],virus:[0],hpMin:1,hpMax:50}]},del:function(){cc.sys.localStorage.removeItem("data"),this.load()},save:function(){var t=JSON.stringify(this.gData);cc.sys.localStorage.setItem("data",t)},load:function(){var t=cc.sys.localStorage.getItem("data");return this.gData=t?JSON.parse(t):{},this.gData},AddGold:function(t){null==this.gData.m_Gold&&(this.gData.m_Gold=0),this.gData.m_Gold+=t,this.save()},getGold:function(){return null==this.gData.m_Gold&&(this.gData.m_Gold=0),this.gData.m_Gold},AddGetGold:function(t){null==this.gData.m_GetGold&&(this.gData.m_GetGold=0),this.gData.m_GetGold+=t,this.save()},GetGetGold:function(){return null==this.gData.m_GetGold&&(this.gData.m_GetGold=0),this.gData.m_GetGold},setColdAddTime:function(t){this.gData.m_GetGoldTime=t},getColdAddTime:function(){return null==this.gData.m_GetGoldTime&&(this.gData.m_GetGoldTime=3),this.gData.m_GetGoldTime},setAwardGold:function(t){this.gData.m_AwardGold=t,this.save()},getAwardGold:function(){return null==this.gData.m_AwardGold&&(this.gData.m_AwardGold=4),this.gData.m_AwardGold},addTaskGold:function(t){null==this.gData.m_TaskGold&&(this.gData.m_TaskGold=0),this.gData.m_TaskGold+=t,this.save()},clearTaskGold:function(){this.gData.m_TaskGold=0,this.save()},getTaskGold:function(){return null==this.gData.m_TaskGold&&(this.gData.m_TaskGold=0),this.gData.m_TaskGold},GetCurLevelDesign:function(){return null==this.gData.m_LevelDesignNum&&(this.gData.m_LevelDesignNum=1),this.gData.m_LevelDesignNum},AddCurLevelDesign:function(){null==this.gData.m_LevelDesignNum&&(this.gData.m_LevelDesignNum=1),this.gData.m_LevelDesignNum++,this.save()}});window.gDataCtl=new n,window.gDataCtl.load(),window.gData=window.gDataCtl.gData,window.gLevelDesign=window.gDataCtl.gLevelDesign,cc._RF.pop()},{}],leveDesign:[function(t,e,o){"use strict";cc._RF.push(e,"03812rHpiNM2prn9hW/YNOF","leveDesign"),cc.Class({extends:cc.Component,properties:{item:[cc.Node]},ctor:function(){console.log("\u5b50\u7684ctor"),this.basePos=[]},onLoad:function(){var t=this;console.log("\u5b50\u7684onLoad"),window.gLevelDesignCtl=this,this.item.forEach(function(e,o){return t.basePos[o]=e.getPosition()})},reset:function(){var t=this,e=gDataCtl.GetCurLevelDesign()-2;this.item.forEach(function(o,n){null!=t.basePos[n]&&t.item[n].setPosition(t.basePos[n]),t.item[n].setScale(.6,.6),t.item[n].opacity=255;var i=o.getComponent("levelItem");i.setNumber(e+n),i.setIndex(n)}),this.item[2].setScale(cc.v2(1,1)),this.item[0].opacity=0,this.item[4].opacity=0},moveOut:function(){var t=cc.moveTo(.3,cc.v2(0,665)),e=cc.scaleTo(.3,.4,.4),o=cc.spawn(t,e);this.node.runAction(o.easing(cc.easeBackOut()))},moveIn:function(){var t=cc.moveTo(.3,cc.v2(0,168)),e=cc.scaleTo(.3,1,1),o=cc.spawn(t,e);this.node.runAction(o.easing(cc.easeBackOut()))},play:function(){},NextLevel:function(){var t=this;this.item.forEach(function(e,o){var n=cc.moveTo(.5,cc.v2(t.basePos[o-1]));if(1==o){var i=cc.fadeOut(.5),c=cc.spawn(i,n);e.runAction(c)}else if(2==o){var s=cc.scaleTo(.5,.6),r=cc.spawn(s,n);e.runAction(r)}else if(3==o){var a=cc.scaleTo(.5,1),l=cc.spawn(a,n);e.runAction(l)}else if(4==o){var u=cc.fadeIn(.5),h=cc.spawn(u,n);e.runAction(h)}});var e=cc.delayTime(.5),o=cc.sequence(e,cc.callFunc(function(){gDataCtl.AddCurLevelDesign();t.reset()}));this.node.runAction(o)},start:function(){console.log("\u5b50\u7684start")}}),cc._RF.pop()},{}],levelItem:[function(t,e,o){"use strict";cc._RF.push(e,"d3b0ecfc9NBOLhld0nBM6qX","levelItem"),cc.Class({extends:cc.Component,properties:{boss:cc.Node,number:cc.Label,point:[cc.Node]},onLoad:function(){},setNumber:function(t){if(t<=0)return this.node.opacity=0;this.number.string=t,this.setImgBoss(t%3==0)},setImgBoss:function(t){this.boss.active=t},setIndex:function(t){this.index=t,1==this.index||2==this.index?this.SetPointShow(!0):this.SetPointShow(!1),1==t?(this.point[0].opacity=255,this.point[1].opacity=0):2==t&&(this.point[0].opacity=0,this.point[1].opacity=255)},SetPointShow:function(t){this.point[0].opacity=t?255:0,this.point[1].opacity=t?255:0},start:function(){}}),cc._RF.pop()},{}]},{},["FullScreen","ShaderHelper","ShaderMouse","ShaderNameLabel","ShaderTime","SpriteMate","AirAutoPlay","AirPlane","Bg","Bottom","Bullet","ClickGet","GameControl","Gun","Logo","LogoVirus","MonsterHP","Setting","TestBtn","Tip","Top","TouchControl","VirusMask","data","leveDesign","levelItem","0","Virus0","color"]);